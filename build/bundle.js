!function(e){function t(t){for(var r,l,o=t[0],i=t[1],c=t[2],m=0,h=[];m<o.length;m++)l=o[m],s[l]&&h.push(s[l][0]),s[l]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);for(u&&u(t);h.length;)h.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,o=1;o<a.length;o++){var i=a[o];0!==s[i]&&(r=!1)}r&&(n.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},s={0:0},n=[];function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var o=window.webpackJsonp=window.webpackJsonp||[],i=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=i;n.push([465,1]),a()}({138:function(e,t,a){},281:function(e,t,a){},437:function(e,t,a){},439:function(e,t,a){},443:function(e,t,a){},459:function(e,t,a){},463:function(e,t,a){},465:function(e,t,a){"use strict";a.r(t);a(217),a(219),a(220),a(224),a(151),a(231),a(232),a(233),a(234),a(235),a(236),a(242),a(243),a(245),a(248);var r=a(1),s=a.n(r),n=a(25),l=a.n(n),o=a(469),i=a(480),c=a(470),u=a(487);const m="LOGIN_REQUEST",h="LOGIN_SUCCESS",p="GET_ERRORS",d="SET_CURRENT_USER",g="REGISTER_REQUEST",f="REGISTER_SUCCESS",E="RESET_PASSWORD_SUCCESS",b="RESET_PASSWORD_FAILURE",y="SET_NEW_PASSWORD_SUCCESS",v="SET_NEW_PASSWORD_FAILURE",w="GET_ALL_POINTS_REQUEST",S="GET_ALL_POINTS_SUCCESS",N="GET_ALL_POINTS_FAILURE",C="POST_ACT_SUCCESS",T="POST_ACT_FAILURE",_="GET_USERPOINTS_SUCCESS",O="GET_USERPOINTS_FAILURE",A="GET_USERACTS_SUCCESS",P="GET_USERACTS_FAILURE",F="GET_ALLACTS_REQUEST",j="GET_ALLACTS_SUCCESS",k="GET_ALLACTS_FAILURE",R="ADD_TYPE_FILTER",L="REMOVE_TYPE_FILTER";var x=a(22),I=a.n(x);var U=e=>{e?I.a.defaults.headers.common.Authorization=e:delete I.a.defaults.headers.common.Authorization},D=a(88),G=a.n(D);const B=e=>t=>{const a=e.data.token;localStorage.setItem("jwtToken",a),U(a);const r=G()(a);return t(W(r)),{type:h,payload:e}};const W=e=>({type:d,payload:e});var M=a(20);a(281);var H=Object(M.b)(e=>({auth:e.auth,user:e.user}),{logoutUser:e=>t=>{localStorage.removeItem("jwtToken"),U(!1),localStorage.removeItem("user"),t(W({})),e.push("/login")}})(Object(u.a)(class extends r.Component{constructor(...e){super(...e),function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(this,"onLogout",e=>{this.props.logoutUser(this.props.history)})}render(){return s.a.createElement(i.a,{inverse:!0,collapseOnSelect:!0},s.a.createElement(i.a.Header,null,s.a.createElement(i.a.Brand,null,s.a.createElement(o.a,{to:"/"},"ChurchApp")),s.a.createElement(i.a.Toggle,null)),s.a.createElement(i.a.Collapse,null,s.a.createElement(c.a,{pullRight:!0},s.a.createElement(i.a.Brand,null,s.a.createElement(o.a,{to:"/userdash",className:"bootstraplink"},"MyActs")),s.a.createElement(i.a.Brand,null,s.a.createElement(o.a,{to:"/addact",className:"bootstraplink"},"AddAct")),s.a.createElement(i.a.Brand,null,s.a.createElement(o.a,{to:"#",className:"bootstraplink",onClick:this.onLogout},"Logout")))))}})),K=a(479),q=a(471),V=a(435),z=a(436),Q=a(467),X=a(466);var Y=class extends r.Component{render(){const e=[{name:"Acts",value:this.props.chartData.points[0]}];return s.a.createElement("div",null,s.a.createElement(K.a,{width:350,height:500,data:e,margin:{top:5,right:30,left:20,bottom:5}},s.a.createElement(q.a,{strokeDasharray:"3 3"}),s.a.createElement(V.a,{dataKey:"name"}),s.a.createElement(z.a,{type:"number",domain:[0,100]}),s.a.createElement(Q.a,null),s.a.createElement(X.a,{dataKey:"value",fill:"#82ca9d"})))}};a(437);function J(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Z=class extends r.Component{constructor(...e){super(...e),J(this,"state",{acts:[],text:"",name:""}),J(this,"renderSlideShow",()=>{if(this.state.acts&&0==this.state.acts.length)return s.a.createElement("div",null);{let e=this.state.acts[Math.floor(Math.random()*this.state.acts.length)],t=[];e.useracts.map(e=>(t.push(e.description),e));let a=t[Math.floor(Math.random()*t.length)];this.setState({text:a}),this.setState({name:e.fullname})}})}componentWillReceiveProps(e){let t=e.allacts&&e.allacts.map(e=>e).filter(e=>e.acts.length>0);this.setState({acts:t})}componentWillUnmount(){clearInterval(this.timerID)}componentDidMount(){this.timerID=setInterval(()=>{this.renderSlideShow()},5e3)}render(){return this.props.isLoading?s.a.createElement("p",null,"Loading..."):s.a.createElement("div",{className:"quote-wrapper"},s.a.createElement("div",{className:"listquote"},this.state.text),s.a.createElement("p",{className:"person"},this.state.name," "))}},$=a(484);function ee(){return e=>I.a.get("http://localhost:4000/api/admin/totalpoints").then(t=>{e(function(e){return{type:S,payload:e}}(t))}).catch(t=>{e(function(e){return{type:N,payload:e}}(t))})}function te(){return e=>(e({type:F}),I.a.get("http://localhost:4000/api/acts").then(t=>{e(function(e){return{type:j,payload:e}}(t))}).catch(t=>{e(function(e){return{type:k,payload:e}}(t))}))}a(439);var ae=a(24);var re=Object(M.b)(e=>({points:e.app,churchlist:e.churchlist.churchlist,isLoading:e.churchlist.isLoading,auth:e.auth}),function(e){return Object(ae.b)({getAllPoints:ee,getAllActs:te},e)})(class extends r.Component{constructor(e){super(e),this.state={loggedin:this.props.auth.isAuthenticated}}componentDidMount(){this.props.getAllPoints(),this.props.getAllActs()}render(){return this.props.auth.isAuthenticated?s.a.createElement(r.Fragment,null,s.a.createElement(H,null),s.a.createElement("div",{className:"app-wrapper"},s.a.createElement("div",{className:"headersection"},s.a.createElement("div",{className:"totalactsmessage"},"Acts completed:",this.props.points.points),s.a.createElement("div",{className:"smallmessage"},"Acts: ",this.props.points.points)),s.a.createElement("div",{className:"data"},s.a.createElement("div",{className:"d3"},s.a.createElement(Y,{className:"chartwidth",chartData:this.props.points}))),s.a.createElement("div",{className:"mainsection"},s.a.createElement(Z,{allacts:this.props.churchlist,isLoading:this.props.isLoading})))):s.a.createElement($.a,{to:"/login"})}}),se=a(473),ne=a(474),le=a(482),oe=a(485),ie=a(481),ce=a(472);var ue=class extends r.Component{render(){return s.a.createElement(ce.a,{bsStyle:"success"},s.a.createElement("strong",null,"Awesome!")," Your act has been recorded!")}};function me(e){return t=>{return I.a.post("http://localhost:4000/api/acts/create",e).then(e=>{t(function(e){return{type:C,payload:e}}(e))}).catch(e=>{t(function(e){return{type:T,payload:e}}(e))})}}a(443);function he(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var pe=Object(M.b)(e=>({auth:e.auth,act:e.act}),function(e){return Object(ae.b)({sendActToDB:me},e)})(class extends r.Component{constructor(e,t){super(e,t),he(this,"toggleModal",()=>{this.setState({isOpen:!this.state.isOpen})}),he(this,"handleTypeChange",e=>{this.setState({actType:e.target.value})}),he(this,"handleTextChange",e=>{let t=e.target.value;this.setState({text:e.target.value}),this.setState({charsleft:100-t.length})}),he(this,"handleSubmit",()=>{const e={description:this.state.text,typeofact:this.state.actType,userid:this.props.auth.user._id};this.props.sendActToDB(e),this.handleHide(),this.setState({text:""}),this.setState({actType:""}),this.setState({showAlert:!0})}),he(this,"getValidationState",()=>{const e=this.state.text.length;return e>=100?"error":e>=15?"success":null}),he(this,"showAlert",()=>this.state.showAlert?s.a.createElement("div",{className:"alertdiv"},s.a.createElement(ue,null)):s.a.createElement("div",null)),this.state={text:"",actType:"",show:!1,charsleft:100,showAlert:!1},this.handleHide=this.handleHide.bind(this)}handleHide(){this.setState({show:!1})}render(){if(!this.props.auth.isAuthenticated)return s.a.createElement($.a,{to:"/login"});const e=this.state,t=e.text,a=e.actType,n=t.length>15&&a.length>0;return s.a.createElement(r.Fragment,null,s.a.createElement(H,null),this.showAlert(),s.a.createElement("form",null,s.a.createElement("h1",{className:"message1 words"}," I commited an act of... "),s.a.createElement(se.a,{className:"radioButtonGroup"},s.a.createElement(ne.a,{inline:!0,value:"Witness",onChange:this.handleTypeChange,name:"radioButtonGroup"},"Witness"),s.a.createElement(ne.a,{inline:!0,value:"Kindness",onChange:this.handleTypeChange,name:"radioButtonGroup"},"Kindness"),s.a.createElement(ne.a,{inline:!0,value:"Encouragement",onChange:this.handleTypeChange,name:"radioButtonGroup"},"Encouragement")),s.a.createElement("h2",{className:"message3 words"},"by"),s.a.createElement("div",null,s.a.createElement(se.a,{controlId:"formBasicText",validationState:this.getValidationState()},s.a.createElement(le.a,{maxLength:"100",className:"explainarea",bsSize:"large",componentClass:"textarea",placeholder:"Explain you act...",value:this.state.text,onChange:this.handleTextChange}),s.a.createElement("p",null,this.state.charsleft," /100"))),s.a.createElement("div",{className:"modal-container",style:{height:200}},s.a.createElement(oe.a,{disabled:!n,className:"submitbutton",bsStyle:"primary",bsSize:"large",onClick:()=>this.setState({show:!0})},"Submit"),s.a.createElement(ie.a,{show:this.state.show,onHide:this.handleHide,container:this,"aria-labelledby":"contained-modal-title"},s.a.createElement(ie.a.Header,{closeButton:!0}),s.a.createElement(ie.a.Body,null,"Are you sure you want to submit? ",s.a.createElement("br",null),"You act will be shared with the entire church."),s.a.createElement(ie.a.Footer,null,s.a.createElement(oe.a,{type:"button",onClick:this.handleSubmit},"Submit"),s.a.createElement(oe.a,{onClick:this.handleHide},"Cancel"))))))}}),de=a(0),ge=a.n(de),fe=a(6),Ee=a.n(fe),be=a(99),ye=a.n(be);a(459);function ve(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class we extends r.Component{constructor(...e){super(...e),ve(this,"state",{email:"",password:"",submitted:!1,errors:{errors:{}}}),ve(this,"handleChange",e=>{this.setState({email:e.target.value})}),ve(this,"handlePasswordChange",e=>{this.setState({password:e.target.value})}),ve(this,"handleSubmit",e=>{e.preventDefault(),this.setState({submitted:!0});const t={email:this.state.email,password:this.state.password};this.props.loginUser(t)})}componentDidMount(){this.props.auth.isAuthenticated&&this.props.history.push("/")}componentWillReceiveProps(e){e.auth.isAuthenticated&&this.props.history.push("/"),e.errors&&this.setState({errors:e.errors})}render(){const e=this.state.errors;return"true"===this.props.loggingIn?s.a.createElement("div",{className:"spinner"},s.a.createElement("img",{src:ye.a,className:"gif",alt:"loading gif"}),s.a.createElement("p",null,"Logging In...")):s.a.createElement("div",{className:"loginwrapper"},s.a.createElement("form",{size:"large",className:"loginform",onSubmit:this.handleSubmit},s.a.createElement("h1",null,"ChurchApp"),s.a.createElement(se.a,null,s.a.createElement("label",null,"Email"),s.a.createElement(le.a,{placeholder:"email",type:"email",onChange:this.handleChange,value:this.state.email,className:Ee()("form-control form-control-lg",{"is-invalid":e.email})}),e.email&&s.a.createElement("div",{className:"invalid-feedback alert-danger"},e.email)),s.a.createElement(se.a,null,s.a.createElement("label",null,"Password"),s.a.createElement(le.a,{placeholder:"password",type:"password",onChange:this.handlePasswordChange,value:this.state.password,className:Ee()("form-control form-control-lg",{"is-invalid":e.password})}),e.password&&s.a.createElement("div",{className:"invalid-feedback alert-danger"},e.password)),s.a.createElement("div",{className:"loginbutton"},s.a.createElement(oe.a,{bsStyle:"success",type:"submit"},"Login")),s.a.createElement("div",{className:"link"},s.a.createElement(o.a,{to:"/register"},s.a.createElement("p",null,"Not signed up? Click here to Register.")),s.a.createElement(o.a,{to:"/forgot"},s.a.createElement("p",null,"Forgot password. Click here to reset")))))}}we.propTypes={loginUser:ge.a.func.isRequired,auth:ge.a.object.isRequired};var Se=Object(M.b)(e=>({user:e,auth:e.auth,errors:e.errors.errors,loggingIn:e.errors.loggingIn}),{loginUser:e=>t=>(t({type:m}),I.a.post("http://localhost:4000/api/login",e).then(e=>{t(B(e))}).catch(e=>{t(function(e){return{type:p,payload:e.response.data}}(e))}))})(we);a(138);function Ne(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ce extends r.Component{constructor(...e){super(...e),Ne(this,"state",{fullname:"",email:"",password:"",password_confirm:"",errors:{errors:{}}}),Ne(this,"handleFullnameChange",e=>{this.setState({fullname:e.target.value})}),Ne(this,"handleEmailChange",e=>{this.setState({email:e.target.value})}),Ne(this,"handlePasswordChange",e=>{this.setState({password:e.target.value})}),Ne(this,"handleConfirmChange",e=>{this.setState({password_confirm:e.target.value})}),Ne(this,"handleSubmit",e=>{e.preventDefault();const t={fullname:this.state.fullname,email:this.state.email,password:this.state.password,password_confirm:this.state.password};this.props.registerUser(t,this.props.history)})}componentWillReceiveProps(e){e.errors&&this.setState({errors:e.errors})}render(){const e=this.state,t=e.fullname,a=e.email,r=e.password,n=e.password_confirm,l=e.errors,i=t.length>3&&a.length>0&&r===n;return this.props.isFetching?s.a.createElement("div",{className:"spinner"},s.a.createElement("img",{src:ye.a,className:"gif",alt:"registering gif"}),s.a.createElement("p",null,"Getting you Registered...")):s.a.createElement("div",{className:"register-wrapper"},s.a.createElement("form",{size:"large",className:"registerForm",onSubmit:this.handleSubmit},s.a.createElement(se.a,null,s.a.createElement("label",null,"Enter Full Name"),s.a.createElement(le.a,{placeholder:"John Doe",type:"fullname",onChange:this.handleFullnameChange,value:this.state.fullname,className:Ee()("form-control form-control-lg",{"is-invalid":l.fullname})}),l.name&&s.a.createElement("div",{className:"invalid-feedback alert-danger"},l.fullname)),s.a.createElement(se.a,null,s.a.createElement("label",null,"Enter Email Address"),s.a.createElement(le.a,{placeholder:"user@myemail.com",type:"email",name:"email",onChange:this.handleEmailChange,value:this.state.email,className:Ee()("form-control form-control-lg  ",{"is-invalid":l.email})}),l.email&&s.a.createElement("div",{className:"invalid-feedback alert-danger"},l.email)),s.a.createElement(se.a,null,s.a.createElement("label",null,"Password"),s.a.createElement(le.a,{placeholder:"password",name:"password_confirm",value:this.state.password,onChange:this.handlePasswordChange,type:"password",className:Ee()("form-control form-control-lg",{"is-invalid":l.password})}),l.password&&s.a.createElement("div",{className:"invalid-feedback alert-danger"},l.password)),s.a.createElement(se.a,null,s.a.createElement("label",null,"Confirm Password"),s.a.createElement(le.a,{placeholder:"password",type:"password",name:"password_confirm",onChange:this.handleConfirmChange,value:this.state.password_confirm,className:Ee()("form-control form-control-lg",{"is-invalid":l.password_confirm})}),l.password_confirm&&s.a.createElement("div",{className:"invalid-feedback alert-danger"},l.password_confirm)),s.a.createElement("div",{className:"regbutton"},s.a.createElement(oe.a,{disabled:!i,bsStyle:"success",type:"submit"},"Register")),s.a.createElement("div",{className:"rglink"},s.a.createElement(o.a,{to:"/login"},s.a.createElement("p",null,"Registered? Login Here.")))))}}Ce.propTypes={registerUser:ge.a.func.isRequired};var Te=Object(M.b)(e=>({errors:e.errors.errors,isFetching:e.errors.isFetching}),{registerUser:(e,t)=>a=>(a({type:g}),I.a.post("http://localhost:4000/api/signup",e).then(e=>{a({type:f}),t.push("/login")}).catch(e=>{a({type:p,payload:e.response.data})}))})(Object(u.a)(Ce)),_e=a(475),Oe=a(462);var Ae=class extends r.Component{render(){return s.a.createElement("div",{className:"thelist"},s.a.createElement(_e.a,{className:"actlist"},this.props.showFiltertedActs&&this.props.showFiltertedActs.map(e=>s.a.createElement(Oe.a,{href:"#",key:e._id},e.description))))}};function Pe(e){return t=>I.a.get("http://localhost:4000/api/acts/total/"+e).then(e=>{t(function(e){return{type:_,payload:e}}(e))}).catch(e=>{t(function(e){return{type:O,payload:e}}(e))})}function Fe(e){return t=>I.a.get("http://localhost:4000/api/acts/"+e).then(e=>{t(function(e){return{type:A,payload:e}}(e))}).catch(e=>{t(function(e){return{type:P,payload:e}}(e))})}function je(e){return{type:R,filterType:e}}function ke(e){return{type:L,filterType:e}}var Re=a(476);a(463);function Le(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var xe=Object(M.b)(e=>({auth:e.auth,userpoints:e.userdash,userlist:e.userlist,filters:e.filters}),function(e){return Object(ae.b)({getUserPoints:Pe,getActList:Fe,addFilterType:je,removeFilterType:ke},e)})(class extends r.Component{constructor(...e){super(...e),Le(this,"handleTypeFilter",e=>{let t=e.target.value;e.target.checked?this.props.addFilterType(t):this.props.removeFilterType(t)}),Le(this,"handleKindnessFilter",e=>{let t=e.target.value;e.target.checked?this.props.addFilterType(t):this.props.removeFilterType(t)}),Le(this,"handleEncouragementFilter",e=>{let t=e.target.value;e.target.checked?this.props.addFilterType(t):this.props.removeFilterType(t)})}componentDidMount(){this.props.getUserPoints(this.props.auth.user._id),this.props.getActList(this.props.auth.user._id)}componentWillReceiveProps(e){let t=e.userlist;this.setState({useracts:t})}render(){return this.props.auth.isAuthenticated?s.a.createElement(r.Fragment,null,s.a.createElement(H,null),s.a.createElement("div",{className:"mobilesidebar"},s.a.createElement(se.a,{className:"checkboxes"},s.a.createElement(Re.a,{inline:!0,value:"Witness",onClick:e=>this.handleTypeFilter(e),className:"check",name:"filterButtonGroup"},"Witness"),s.a.createElement(Re.a,{inline:!0,value:"Kindness",onClick:e=>this.handleKindnessFilter(e),className:"check",name:"filterButtonGroup"},"Kindness"),s.a.createElement(Re.a,{inline:!0,value:"Encouragement",onClick:e=>this.handleEncouragementFilter(e),className:"check",name:"filterButtonGroup"},"Encouragement"))),s.a.createElement("div",{className:"wrapper"},s.a.createElement("div",{className:"header"},s.a.createElement("h1",{className:"desktopMessage"},this.props.auth.user.fullname,", you've commited ",this.props.userpoints.userpoints," Acts!"),s.a.createElement("h1",{className:"mobileMessage"},"Acts: ",this.props.userpoints.userpoints)),s.a.createElement("div",{className:"sidebar"},s.a.createElement(se.a,{className:"checkboxes"},s.a.createElement(Re.a,{value:"Witness",onClick:e=>this.handleTypeFilter(e),className:"check",name:"filterButtonGroup"},"Witness"),s.a.createElement(Re.a,{value:"Kindness",onClick:e=>this.handleKindnessFilter(e),className:"check",name:"filterButtonGroup"},"Kindness"),s.a.createElement(Re.a,{value:"Encouragement",onClick:e=>this.handleEncouragementFilter(e),className:"check",name:"filterButtonGroup"},"Encouragement"))),s.a.createElement("div",{className:"main"},s.a.createElement(Ae,{showFiltertedActs:this.props.showFiltertedActs})))):s.a.createElement($.a,{to:"/login"})}});const Ie=(e,t)=>{if(0===t.typeFilter.length)return e.userlist;if(0!==t.typeFilter.length){let a=[];return e.userlist.forEach(e=>{-1!==t.typeFilter.indexOf(e.typeofact)&&a.push(e)}),a}};var Ue=Object(M.b)(e=>({visableFilter:e.visableFilter,userlist:e.userlist}),null)(class extends r.Component{render(){let e=Ie(this.props.userlist,this.props.visableFilter);return s.a.createElement("div",{className:"visiable-act-list"},s.a.createElement(xe,{showFiltertedActs:e}))}});function De(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Ge extends r.Component{constructor(...e){super(...e),De(this,"state",{email:"",errors:{},forgot:{},showAlert:!1}),De(this,"handleEmailChange",e=>{this.setState({email:e.target.value})}),De(this,"handleSubmit",e=>{e.preventDefault();const t={email:this.state.email};this.props.resetPassword(t)}),De(this,"showAlert",()=>{if(this.state.showAlert)return s.a.createElement("div",null,s.a.createElement(ce.a,{className:"invalid-feedback alert-success"},this.state.forgot&&s.a.createElement("div",{className:" alert-success"},this.state.forgot.email)))})}componentWillReceiveProps(e){e.errors&&this.setState({errors:e.errors}),e.forgot&&(this.setState({forgot:e.forgot}),this.setState({showAlert:!0}),this.setState({errors:{}}))}render(){const e=this.state,t=e.errors,a=e.forgot;return s.a.createElement(r.Fragment,null,s.a.createElement("div",{className:"register-wrapper"},s.a.createElement("form",{size:"large",className:"registerForm",onSubmit:this.handleSubmit},this.showAlert(),s.a.createElement(se.a,null,s.a.createElement("label",null,"Enter Email Address"),s.a.createElement(le.a,{placeholder:"user@myemail.com",type:"email",name:"email",autoFocus:!0,onChange:this.handleEmailChange,value:this.state.email,className:Ee()("form-control form-control-lg  ",{"is-invalid":t.email,valid:a.email})}),t.email&&s.a.createElement("div",{className:"invalid-feedback alert-danger"},t.email)),s.a.createElement("div",{className:"regbutton"},s.a.createElement(oe.a,{bsStyle:"primary",type:"submit"},"Send")),s.a.createElement("div",{className:"rglink"},s.a.createElement(o.a,{to:"/login"},s.a.createElement("p",null,"Registered? Login Here."))))))}}Ge.propTypes={resetPassword:ge.a.func.isRequired,errors:ge.a.object.isRequired};var Be=Object(M.b)(e=>({errors:e.errors,forgot:e.forgot.data}),{resetPassword:function(e){return t=>I.a.post("http://localhost:4000/api/forgot",e).then(e=>{t(function(e){return{type:E,payload:e}}(e))}).catch(e=>{t(function(e){return{type:b,payload:e.response.data}}(e))})}})(Ge),We=a(477);function Me(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class He extends r.Component{constructor(...e){super(...e),Me(this,"state",{password:"",confirm_password:"",submitted:!1,showAlert:!1,errors:{},forgot:{}}),Me(this,"handlePasswordChange",e=>{this.setState({password:e.target.value})}),Me(this,"handleChange",e=>{this.setState({confirm_password:e.target.value})}),Me(this,"handleSubmit",e=>{e.preventDefault(),this.setState({submitted:!0});const t={newPassword:this.state.password,resetToken:this.props.location.pathname.slice(7,47)};this.props.setNewPassword(t)}),Me(this,"showAlert",()=>{if(this.state.showAlert)return s.a.createElement("div",null,s.a.createElement(ce.a,{className:"invalid-feedback alert-success"},this.state.forgot&&s.a.createElement("div",{className:" alert-success"},this.state.forgot.message)))})}getValidationState(){const e=this.state.password.length;return e>7?"success":e>0?"error":null}confirmGetValidationState(){return this.state.confirm_password.length>0&&this.state.password===this.state.confirm_password?"success":this.state.confirm_password.length>0?"error":null}componentWillReceiveProps(e){e.errors&&this.setState({errors:e.errors}),e.forgot&&(this.setState({forgot:e.forgot}),this.setState({showAlert:!0}),this.setState({errors:{}}))}render(){const e=this.state,t=e.password,a=e.confirm_password,r=e.errors,n=t===a&&t.length>0&&a.length>0;return s.a.createElement("div",{className:"loginwrapper"},s.a.createElement("form",{size:"large",className:"registerForm",onSubmit:this.handleSubmit},this.showAlert(),s.a.createElement("h1",null,"Reset Password"),s.a.createElement(se.a,{controlId:"formBasicText",validationState:this.getValidationState()},s.a.createElement("label",null,"Password"),s.a.createElement(le.a,{placeholder:"password",type:"password",onChange:this.handlePasswordChange,value:this.state.password,className:Ee()("form-control form-control-lg",{"is-invalid":r.password})}),r.password&&s.a.createElement("div",{className:"invalid-feedback alert-danger"},r.password),s.a.createElement(le.a.Feedback,null),s.a.createElement(We.a,null,"Password must be at least 8 characters.")),s.a.createElement(se.a,{controlId:"formBasicText2",validationState:this.confirmGetValidationState()},s.a.createElement("label",null,"Confirm Password"),s.a.createElement(le.a,{placeholder:"confirm password...",type:"password",onChange:this.handleChange,value:this.state.confirm_password,className:Ee()("form-control form-control-lg",{"is-invalid":r.password})}),r.password&&s.a.createElement("div",{className:"invalid-feedback alert-danger"},r.password),s.a.createElement(le.a.Feedback,null)),s.a.createElement("div",{className:"loginbutton"},s.a.createElement(oe.a,{disabled:!n,bsStyle:"primary",type:"submit"},"Reset")),s.a.createElement("div",{className:"rglink"},s.a.createElement(o.a,{to:"/login"},s.a.createElement("p",null,"Login Here.")))))}}He.propTypes={setNewPassword:ge.a.func.isRequired,errors:ge.a.object.isRequired};var Ke=Object(M.b)(e=>({errors:e.errors,forgot:e.forgot.data}),{setNewPassword:function(e){return t=>I.a.post("http://localhost:4000/api/reset",e).then(e=>{t(function(e){return{type:y,payload:e}}(e))}).catch(e=>{t(function(e){return{type:v,payload:e.response.data}}(e))})}})(He),qe=a(483),Ve=a(486),ze=a(478),Qe=a(215);const Xe={isFetching:!1};var Ye=e=>void 0===e||null===e||"object"==typeof e&&0===Object.keys(e).length||"string"==typeof e&&0===e.trim().length;function Je(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const Ze={isAuthenticated:!1,user:{}};const $e={points:[]};const et={};const tt={userpoints:[]};const at={};function rt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){st(e,t,a[t])})}return e}function st(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const nt=[];const lt={typeFilter:[]};const ot={};function it(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){ct(e,t,a[t])})}return e}function ct(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const ut={isFetching:!1,loggingIn:!1};var mt=Object(ae.c)({errors:function(e=ut,t){switch(t.type){case p:return{errors:t.payload,loggingIn:!1};case g:return it({},e,{isFetching:!0});case f:return it({},e,{isFetching:!1});case m:return it({},e,{loggingIn:!0});case h:return it({},e,{loggingIn:!1});default:return e}},login:function(e=Xe,t){switch(t.type){case b:case v:return t.payload;default:return e}},auth:function(e=Ze,t){switch(t.type){case d:return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(t){Je(e,t,a[t])})}return e}({},e,{isAuthenticated:!Ye(t.payload),user:t.payload});default:return e}},app:function(e=$e,t){switch(t.type){case w:return t.payload;case S:return{points:[t.payload.data]};case N:return t.payload;default:return e}},act:function(e=et,t){switch(t.type){case C:case T:return t.payload;default:return e}},userdash:function(e=tt,t){switch(t.type){case _:return{userpoints:[t.payload.data]};case O:return t.payload;default:return e}},userlist:function(e=at,t){switch(t.type){case A:return{userlist:t.payload.data};case P:return t.payload;default:return e}},churchlist:function(e=nt,t){switch(t.type){case F:return rt({},e,{isLoading:!0});case j:return{churchlist:t.payload.data,isLoading:!1};case k:return rt({},e,{isLoading:!1,errorMessage:t.payload.message});default:return e}},visableFilter:function(e=lt,t){switch(t.type){case R:return Object.assign({},e,{typeFilter:[...e.typeFilter,t.filterType]});case L:return{typeFilter:e.typeFilter.filter(e=>e!==t.filterType)};default:return e}},forgot:function(e=ot,t){switch(t.type){case E:case y:return t.payload;default:return e}}});const ht=Object(ae.a)(Qe.a);let pt=window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__();pt=(e=>e);const dt=Object(ae.e)(mt,{},Object(ae.d)(ht,pt));if(localStorage.jwtToken){U(localStorage.jwtToken);const e=G()(localStorage.jwtToken);dt.dispatch(W(e))}l.a.render(s.a.createElement(M.a,{store:dt},s.a.createElement(qe.a,null,s.a.createElement(Ve.a,null,s.a.createElement(ze.a,{exact:!0,path:"/",component:re}),s.a.createElement(ze.a,{path:"/addact",component:pe}),s.a.createElement(ze.a,{path:"/login",component:Se}),s.a.createElement(ze.a,{path:"/register",component:Te}),s.a.createElement(ze.a,{path:"/userdash",component:Ue}),s.a.createElement(ze.a,{path:"/forgot",component:Be}),s.a.createElement(ze.a,{path:"/reset",component:Ke})))),document.getElementById("root"))},99:function(e,t,a){e.exports=a.p+"41c7e61943934487cf490d38b3901040.gif"}});
//# sourceMappingURL=bundle.js.map